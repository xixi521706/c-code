#include <stdio.h>      //归并排序的思想。一个数组，边界确定。在这个长度内，先二分（默认左边和右边都是有序的，然后归并
#include <assert.h>
#include <stdlin.h>

void merge(int* ps,int arr[],int left,int mid,int right)
{
     int i=0,j=mid,k=0;
     while(i<mid && j<=right)
         ps[k++]=arr[i]<arr[j]?arr[i++]:arr[j++];
     while(i<mid)
         ps[k++]=arr[i++];
     while(j<=right)
         ps[k++]=arr[j++];
}
void tosort(int* ps,int arr[],int left,int right)
{
     if(left=right)                   //递归结束条件，长度为1
         return;
     int mid=left+(right-left)/2;      //又有序数组第一个元素坐标mid+1
     tosort(ps,arr,left,mid);
     tosort(ps,arr,mid+1,right);
     merge(ps,arr,left,mid+1,right);

}
int main()
{
    int arr[]={2,5,7,3,0,8,1,9,14,12,10};
    int len=sizeof(arr)/sizeof(arr[0]);
    int* ps=(int*)malloc((right-left+1)*sizeof(int));
    assert(ps != NULL);
    int left=0,i=0,right=len-1;
    timsort(ps,arr,left,right);
    while(i<len)
    {
        arr[i++]=ps[i++];
        parintf("%d ",arr[i-1]);
    }
    free(ps);
    ps=NULL;
    return 0;
}
